# ===================================================
# CONFIGURACIÓN DE BASE DE DATOS
# ===================================================

# URL de conexión a MySQL
# Formato: jdbc:mysql://host:puerto/nombre_base_datos
spring.datasource.url=jdbc:mysql://localhost:3306/gestion_usuarios?useSSL=false&serverTimezone=Europe/Madrid&allowPublicKeyRetrieval=true

# Credenciales de acceso
spring.datasource.username=root
spring.datasource.password=root123
server.port=8081
# Driver JDBC de MySQL
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ===================================================
# CONFIGURACIÓN DE HIBERNATE/JPA
# ===================================================

# Dialecto SQL específico para MySQL 8
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# Estrategia de generación del esquema:
# - none: No hace nada (producción)
# - validate: Valida el esquema, no lo modifica
# - update: Actualiza el esquema si hay cambios (desarrollo)
# - create: Crea el esquema, destruyendo datos previos
# - create-drop: Crea al iniciar, borra al cerrar
spring.jpa.hibernate.ddl-auto=validate

# Mostrar las consultas SQL en consola (solo desarrollo)
spring.jpa.show-sql=true

# Formatear las consultas SQL para mejor legibilidad
spring.jpa.properties.hibernate.format_sql=true

# Mostrar los parámetros de las consultas (solo desarrollo)
logging.level.org.hibernate.orm.jdbc.bind=TRACE

# ===================================================
# CONFIGURACIÓN DEL POOL DE CONEXIONES (HikariCP)
# ===================================================

# Número máximo de conexiones en el pool
spring.datasource.hikari.maximum-pool-size=10

# Número mínimo de conexiones inactivas
spring.datasource.hikari.minimum-idle=5

# Tiempo máximo de espera para obtener conexión (ms)
spring.datasource.hikari.connection-timeout=30000

# Tiempo máximo que una conexión puede estar inactiva (ms)
spring.datasource.hikari.idle-timeout=600000